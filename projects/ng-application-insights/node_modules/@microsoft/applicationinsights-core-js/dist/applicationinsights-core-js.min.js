/*!
 * Application Insights JavaScript SDK - Core, 2.5.9
 * Copyright (c) Microsoft and contributors. All rights reserved.
 */
!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n((e.Microsoft=e.Microsoft||{},e.Microsoft.ApplicationInsights=e.Microsoft.ApplicationInsights||{}))}(this,function(c){"use strict";var r="function",i="object",n="undefined",o="prototype",a="hasOwnProperty";function e(){return typeof globalThis!==n&&globalThis?globalThis:typeof self!==n&&self?self:typeof window!==n&&window?window:typeof global!==n&&global?global:null}function u(e){var n=Object.create;if(n)return n(e);if(null==e)return{};if((n=typeof e)!=i&&n!==r)throw new TypeError("Object prototype may only be an Object:"+e);function t(){}return t[o]=e,new t}var s=function(e,n){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n[a](t)&&(e[t]=n[t])})(e,n)},t=function(e,n){function t(){this.constructor=e}s(e,n),e[o]=null===n?u(n):(t[o]=n[o],new t)};(un=Xe=e()||{}).__assign||(un.__assign=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var i in n=arguments[t])Object[o][a].call(n,i)&&(e[i]=n[i]);return e}),un.__extends||(un.__extends=t),__assign=__assign||Xe.__assign,__extends=__extends||Xe.__extends;var l={Unknown:0,NonRetryableStatus:1,InvalidEvent:2,SizeLimitExceeded:3,KillSwitch:4,QueueFull:5},f=n,g=i,d=o,v=r,p="window",h="JSON",y=e;function x(e){var n=y();return n&&n[e]?n[e]:e===p&&m()?window:null}function m(){return!(typeof window!==g||!window)}function C(){return m()?window:x(p)}function w(){return!(typeof document!==g||!document)}function T(){return w()?document:x("document")}function I(){return!(typeof navigator!==g||!navigator)}function S(){return I()?navigator:x("navigator")}function N(){return!(typeof history!==g||!history)}function b(){return typeof console!==f?console:x("console")}function E(){return x("performance")}function _(){return!!(typeof JSON===g&&JSON||null!==x(h))}function P(){return _()?JSON||x(h):null}function F(){return x("crypto")}function L(){return x("msCrypto")}var M=n,O="attachEvent",A="addEventListener",j="detachEvent",R="removeEventListener",D=4294967296,k=4294967295,U=null,z=!1,K=123456789,B=987654321;function V(e){K=123456789+e&k,B=987654321-e&k,z=!0}function q(){V(Math.random()*D^(new Date).getTime())}function W(e,n){return typeof e===n}function H(e){return W(e,n)||e===undefined}function G(e){return H(e)||null===e}function J(e,n){return e&&Object[o].hasOwnProperty.call(e,n)}function Q(e){return W(e,i)}function $(e){return W(e,r)}function Z(e,n,t,r){void 0===r&&(r=!1);var i=!1;if(!G(e))try{G(e[A])?G(e[O])||(e[O]("on"+n,t),i=!0):(e[A](n,t,r),i=!0)}catch(o){}return i}function Y(e,n,t,r){if(void 0===r&&(r=!1),!G(e))try{G(e[R])?G(e[j])||e[j]("on"+n,t):e[R](n,t,r)}catch(i){}}var X=(ee.isDate=function(e){return"[object Date]"===Object[o].toString.call(e)},ee.isArray=function(e){return"[object Array]"===Object[o].toString.call(e)},ee.isError=function(e){return"[object Error]"===Object[o].toString.call(e)},ee.isString=function(e){return W(e,"string")},ee.isNumber=function(e){return W(e,"number")},ee.isBoolean=function(e){return W(e,"boolean")},ee.disableCookies=function(){ee._canUseCookies=!1},ee.newGuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(ne,function(e){var n=0|ee.randomValue(15);return("x"===e?n:3&n|8).toString(16)})},ee.toISOString=function(e){if(ee.isDate(e)){var n=function(e){return 1===(e+="").length&&(e="0"+e),e};return e.getUTCFullYear()+"-"+n(1+e.getUTCMonth())+"-"+n(e.getUTCDate())+"T"+n(e.getUTCHours())+":"+n(e.getUTCMinutes())+":"+n(e.getUTCSeconds())+"."+((e.getUTCMilliseconds()/1e3).toFixed(3)+"").slice(2,5)+"Z"}},ee.arrForEach=function(e,n,t){for(var r=e.length,i=0;i<r;i++)i in e&&n.call(t||e,e[i],i,e)},ee.arrIndexOf=function(e,n,t){for(var r=e.length,i=Math.max(0<=(t=t||0)?t:r-Math.abs(t),0);i<r;i++)if(i in e&&e[i]===n)return i;return-1},ee.arrMap=function(e,n,t){for(var r=e.length,i=t||e,o=Array(r),a=0;a<r;a++)a in e&&(o[a]=n.call(i,e[a],e));return o},ee.arrReduce=function(e,n,t){var r,i=e.length,o=0;if(3<=arguments.length)r=t;else{for(;o<i&&!(o in e);)o++;r=e[o++]}for(;o<i;)o in e&&(r=n(r,e[o],o,e)),o++;return r},ee.strTrim=function(e){return ee.isString(e)?e.replace(/^\s+|\s+$/g,""):e},ee.objKeys=function(e){var n=!{toString:null}.propertyIsEnumerable("toString");if(!($(e)||Q(e)&&null!==e))throw new TypeError("objKeys called on non-object");var t,r=[];for(t in e)J(e,t)&&r.push(t);if(n)for(var i=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],o=i.length,a=0;a<o;a++)J(e,i[a])&&r.push(i[a]);return r},ee.objDefineAccessors=function(e,n,t,r){var i=Object.defineProperty;if(i)try{var o={enumerable:!0,configurable:!0};return t&&(o.get=t),r&&(o.set=r),i(e,n,o),!0}catch(a){}return!1},ee.addEventHandler=function(e,n){var t=!1,r=C();return r&&(t=Z(r,e,n),t=Z(r.body,e,n)||t),(r=T())&&(t=te.Attach(r,e,n)||t),t},ee.dateNow=function(){var e=Date;return e.now?e.now():(new e).getTime()},ee.perfNow=function(){var e=E();return e&&e.now?e.now():ee.dateNow()},ee.newId=function(e){void 0===e&&(e=22);for(var n=ee.random32()>>>0,t=0,r="";r.length<e;)r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[0|63&n],n>>>=6,5==++t&&(n=(ee.random32()<<2&4294967295|3&n)>>>0,t=0);return r},ee.isIE=function(){var e;return null===U&&(e=((S()||{}).userAgent||"").toLowerCase(),U=!!~e.indexOf("msie")||!!~e.indexOf("trident/")),U},ee.randomValue=function(e){return 0<e?Math.floor(ee.random32()/k*(e+1))>>>0:0},ee.random32=function(e){var n=(n=F()||L())&&n.getRandomValues?n.getRandomValues(new Uint32Array(1))[0]&k:ee.isIE()?(z||q(),ee.mwcRandom32()&k):Math.floor(D*Math.random()|0);return e||(n>>>=0),n},ee.mwcRandomSeed=function(e){e?V(e):q()},ee.mwcRandom32=function(e){var n=((B=36969*(65535&B)+(B>>16)&k)<<16)+(65535&(K=18e3*(65535&K)+(K>>16)&k))>>>0&k|0;return e||(n>>>=0),n},ee.generateW3CId=function(){for(var e,n=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],t="",r=0;r<4;r++)t+=n[15&(e=ee.random32())]+n[e>>4&15]+n[e>>8&15]+n[e>>12&15]+n[e>>16&15]+n[e>>20&15]+n[e>>24&15]+n[e>>28&15];var i=n[8+(3&ee.random32())|0];return t.substr(0,8)+t.substr(9,4)+"4"+t.substr(13,3)+i+t.substr(16,3)+t.substr(19,12)},ee.isTypeof=W,ee.isUndefined=H,ee.isNullOrUndefined=G,ee.hasOwnProperty=J,ee.isFunction=$,ee.isObject=Q,ee.objCreate=u,ee);function ee(){}var ne=/[xy]/g,te=(re.Attach=Z,re.AttachEvent=Z,re.Detach=Y,re.DetachEvent=Y,re);function re(){}(un=c.LoggingSeverity||(c.LoggingSeverity={}))[un.CRITICAL=1]="CRITICAL",un[un.WARNING=2]="WARNING";var ie={BrowserDoesNotSupportLocalStorage:0,BrowserCannotReadLocalStorage:1,BrowserCannotReadSessionStorage:2,BrowserCannotWriteLocalStorage:3,BrowserCannotWriteSessionStorage:4,BrowserFailedRemovalFromLocalStorage:5,BrowserFailedRemovalFromSessionStorage:6,CannotSendEmptyTelemetry:7,ClientPerformanceMathError:8,ErrorParsingAISessionCookie:9,ErrorPVCalc:10,ExceptionWhileLoggingError:11,FailedAddingTelemetryToBuffer:12,FailedMonitorAjaxAbort:13,FailedMonitorAjaxDur:14,FailedMonitorAjaxOpen:15,FailedMonitorAjaxRSC:16,FailedMonitorAjaxSend:17,FailedMonitorAjaxGetCorrelationHeader:18,FailedToAddHandlerForOnBeforeUnload:19,FailedToSendQueuedTelemetry:20,FailedToReportDataLoss:21,FlushFailed:22,MessageLimitPerPVExceeded:23,MissingRequiredFieldSpecification:24,NavigationTimingNotSupported:25,OnError:26,SessionRenewalDateIsZero:27,SenderNotInitialized:28,StartTrackEventFailed:29,StopTrackEventFailed:30,StartTrackFailed:31,StopTrackFailed:32,TelemetrySampledAndNotSent:33,TrackEventFailed:34,TrackExceptionFailed:35,TrackMetricFailed:36,TrackPVFailed:37,TrackPVFailedCalc:38,TrackTraceFailed:39,TransmissionFailed:40,FailedToSetStorageBuffer:41,FailedToRestoreStorageBuffer:42,InvalidBackendResponse:43,FailedToFixDepricatedValues:44,InvalidDurationValue:45,TelemetryEnvelopeInvalid:46,CreateEnvelopeError:47,CannotSerializeObject:48,CannotSerializeObjectNonSerializable:49,CircularReferenceDetected:50,ClearAuthContextFailed:51,ExceptionTruncated:52,IllegalCharsInName:53,ItemNotInArray:54,MaxAjaxPerPVExceeded:55,MessageTruncated:56,NameTooLong:57,SampleRateOutOfRange:58,SetAuthContextFailed:59,SetAuthContextFailedAccountName:60,StringValueTooLong:61,StartCalledMoreThanOnce:62,StopCalledWithoutStart:63,TelemetryInitializerFailed:64,TrackArgumentsNotSpecified:65,UrlTooLong:66,SessionStorageBufferFull:67,CannotAccessCookie:68,IdTooLong:69,InvalidEvent:70,FailedMonitorAjaxSetRequestHeader:71,SendBrowserInfoOnUserInit:72,PluginException:73,NotificationException:74,SnippetScriptLoadFailure:99,InvalidInstrumentationKey:100},oe="constructor",ae="prototype",ue="function",se="_dynInstFuncs",ce="_isDynProxy",le="_dynClass",fe="_dynCls$",ge="_unknown_",de="__proto__",ve=Object.getPrototypeOf,pe=0;function he(e,n){return e&&Object[ae].hasOwnProperty.call(e,n)}function ye(e){return typeof e===ue}function xe(e){return e&&(e===Object[ae]||e===Array[ae])}function me(e){return xe(e)||e===Function[ae]}function Ce(e){if(e){if(ve)return ve(e);if(e=e[de]||e[ae]||e[oe])return e}return null}function we(e,n,t){return n!==oe&&ye(e[n])&&(t||he(e,n))}function Te(e){throw new TypeError("DynamicProto: "+e)}function Ie(e,n){return he(e,ae)?e.name||n||ge:((e||{})[oe]||{}).name||n||ge}function Se(e,t,n){he(e,ae)||Te("theClass is an invalid class definition.");var r=e[ae];!function(e){for(var n=Ce(t);n&&!me(n);){if(n===e)return 1;n=Ce(n)}}(r)&&Te("["+Ie(e)+"] is not in class heirarchy of ["+Ie(t)+"]");var i=null;he(r,le)?i=r[le]:(i=fe+Ie(e,"_")+"$"+pe,pe++,r[le]=i),n(t,function(e,n,t){function r(e,n){return function(){return n.apply(e,arguments)}}var i={};for(u in t)i[u]=r(n,t[u]);for(var o=Ce(e),a=[];o&&!me(o)&&!function(e,n){for(var t=e.length-1;0<=t;t--)if(e[t]===n)return 1}(a,o);){for(var u in o)!i[u]&&we(o,u,!ve)&&(i[u]=r(n,o[u]));a.push(o),o=Ce(o)}return i}(r,t,e=function(e){var n,t={};for(n in e)!t[n]&&we(e,n,!1)&&(t[n]=e[n]);return t}(t))),function(e,n,t,r){if(!xe(e)){var i,o=t[se]=t[se]||{},a=o[n]=o[n]||{};for(i in t)we(t,i,!1)&&t[i]!==r[i]&&(a[i]=t[i],delete t[i],he(e,i)&&(!e[i]||e[i][ce])||(e[i]=function(n,t){var r=function(){if(this&&he(n,le)){var e=((this[se]||{})[n[le]]||{})[t];if(e)return e.apply(this,arguments);Te("Missing ["+t+"] "+ue)}return(e=n[t])===r&&(e=Ce(n)[t]),ye(e)||Te("["+t+"] is not a "+ue),e.apply(this,arguments)};return r[ce]=1,r}(e,i)))}}(r,i,t,e)}function Ne(e){return e?'"'+e.replace(/\"/g,"")+'"':""}var be=(Ee.dataType="MessageData",Ee);function Ee(e,n,t,r){void 0===t&&(t=!1),this.messageId=e,this.message=(t?"AI: ":"AI (Internal): ")+e,e="",_()&&(e=P().stringify(r)),e=(n?" message:"+Ne(n):"")+(r?" props:"+Ne(e):""),this.message+=e}var _e=function Cn(i){this.identifier="DiagnosticLogger",this.queue=[];var u=0,s={};Se(Cn,this,function(o){var t=X.isNullOrUndefined,a=X.isUndefined,r=X.isFunction;function e(e,n){return e=i[e],t(e)?n:e}t(i)&&(i={}),o.consoleLoggingLevel=function(){return e("loggingLevelConsole",0)},o.telemetryLoggingLevel=function(){return e("loggingLevelTelemetry",1)},o.maxInternalMessageLimit=function(){return e("maxMessageLimit",25)},o.enableDebugExceptions=function(){return e("enableDebugExceptions",!1)},o.throwInternal=function(e,n,t,r,i){if(void 0===i&&(i=!1),r=new be(n,t,i,r),o.enableDebugExceptions())throw r;!a(r)&&r&&(a(r.message)||(i?(i=+r.messageId,!s[i]&&o.consoleLoggingLevel()>=c.LoggingSeverity.WARNING&&(o.warnToConsole(r.message),s[i]=!0)):o.consoleLoggingLevel()>=c.LoggingSeverity.WARNING&&o.warnToConsole(r.message),o.logInternalMessage(e,r)))},o.warnToConsole=function(e){var n,t=b();t&&(n="log",t.warn&&(n="warn"),r(t[n])&&t[n](e))},o.resetInternalMessageCount=function(){u=0,s={}},o.logInternalMessage=function(e,n){var t,r;u>=o.maxInternalMessageLimit()||(t=!0,r="AITR_"+n.messageId,s[r]?t=!1:s[r]=!0,t&&(e<=o.telemetryLoggingLevel()&&(o.queue.push(n),u++),u===o.maxInternalMessageLimit()&&(n=new be(ie.MessageLimitPerPVExceeded,e="Internal events throttle limit per PageView reached for this app.",!1),o.queue.push(n),o.warnToConsole(e))))}})},Pe="ctx",Fe=(Le.ParentContextKey="parent",Le.ChildrenContextKey="childEvts",Le);function Le(e,i,n){var t,o=this,a=!1;o.start=X.dateNow(),o.name=e,o.isAsync=n,o.isChildEvt=function(){return!1},X.isFunction(i)&&(a=X.objDefineAccessors(o,"payload",function(){return!t&&X.isFunction(i)&&(t=i(),i=null),t})),o.getCtx=function(e){return e?(e===Le.ParentContextKey||e===Le.ChildrenContextKey?o:o[Pe]||{})[e]:null},o.setCtx=function(e,n){e&&(e===Le.ParentContextKey?(o[e]||(o.isChildEvt=function(){return!0}),o[e]=n):e===Le.ChildrenContextKey?o[e]=n:(o[Pe]=o[Pe]||{})[e]=n)},o.complete=function(){var e=0,n=o.getCtx(Le.ChildrenContextKey);if(X.isArray(n))for(var t=0;t<n.length;t++){var r=n[t];r&&(e+=r.time)}o.time=X.dateNow()-o.start,o.exTime=o.time-e,o.complete=function(){},!a&&X.isFunction(i)&&(o.payload=i())}}var Me=function wn(n){this.ctx={},Se(wn,this,function(t){t.create=function(e,n,t){return new Fe(e,n,t)},t.fire=function(e){e&&(e.complete(),n&&n.perfEvent(e))},t.setCtx=function(e,n){e&&((t[Pe]=t[Pe]||{})[e]=n)},t.getCtx=function(e){return(t[Pe]||{})[e]}})},Oe="CoreUtils.doPerf";function Ae(e,n,t,r,i){if(e){var o=e;if(o&&X.isFunction(o.getPerfMgr)&&(o=o.getPerfMgr()),o){var a,u=void 0,s=o.getCtx(Oe);try{if(u=o.create(n(),r,i))return s&&u.setCtx&&(u.setCtx(Fe.ParentContextKey,s),s.getCtx&&s.setCtx&&((a=s.getCtx(Fe.ChildrenContextKey))||(a=[],s.setCtx(Fe.ChildrenContextKey,a)),a.push(u))),o.setCtx(Oe,u),t(u)}catch(c){u&&u.setCtx&&u.setCtx("exception",c)}finally{u&&o.fire(u),o.setCtx(Oe,s)}}}return t()}var je=X.isFunction,Re=function(i,n){var o=this,a=null,u=je(i.processTelemetry),s=je(i.setNextPlugin);o._hasRun=!1,o.getPlugin=function(){return i},o.getNext=function(){return a},o.setNext=function(e){a=e},o.processTelemetry=function(t,r){r=r||n;var e=i?i.identifier:"TelemetryPluginChain";Ae(r?r.core():null,function(){return e+":processTelemetry"},function(){if(i&&u){o._hasRun=!0;try{r.setNext(a),s&&i.setNextPlugin(a),a&&(a._hasRun=!1),i.processTelemetry(t,r)}catch(n){var e=a&&a._hasRun;a&&e||r.diagLog().throwInternal(c.LoggingSeverity.CRITICAL,ie.PluginException,"Plugin ["+i.identifier+"] failed during processTelemetry - "+n),a&&!e&&a.processTelemetry(t,r)}}else a&&(o._hasRun=!0,a.processTelemetry(t,r))},function(){return{item:t}},!t.sync)}},De=X.isNullOrUndefined;function ke(e,n){var t=[];if(e&&0<e.length)for(var r=null,i=0;i<e.length;i++){var o=e[i];o&&X.isFunction(o.processTelemetry)&&(o=new Re(o,n),t.push(o),r&&r.setNext(o),r=o)}return 0<t.length?t[0]:null}var Ue=function Tn(e,i,t,n){var r,o,a,u,s=this,c=null;null!==n&&(e&&X.isFunction(e.getPlugin)?c=function(e,n,t){var r=[],i=!t;if(e)for(;e;){var o=e.getPlugin();!i&&o!==t||(i=!0,r.push(o)),e=e.getNext()}return i||r.push(t),ke(r,n)}(e,s,n||e.getPlugin()):n?(r=s,a=e,u=!1,(o=n)&&e&&(a=[],X.arrForEach(e,function(e){!u&&e!==o||(u=!0,a.push(e))})),o&&!u&&(a=a||[]).push(o),c=ke(a,r)):X.isUndefined(n)&&(c=ke(e,s))),s.core=function(){return t},s.diagLog=function(){return(t||{}).logger||new _e(i||{})},s.getCfg=function(){return i},s.getExtCfg=function(e,n){var t,r;return void 0===n&&(n={}),!i||(r=i.extensionConfig)&&e&&(t=r[e]),t||n},s.getConfig=function(e,n,t){var r;return void 0===t&&(t=!1),(e=s.getExtCfg(e,null))&&!De(e[n])?r=e[n]:i&&!De(i[n])&&(r=i[n]),De(r)?t:r},s.hasNext=function(){return null!=c},s.getNext=function(){return c},s.setNext=function(e){c=e},s.processNext=function(e){var n=c;n&&(c=n.getNext(),n.processTelemetry(e,s))},s.createNew=function(e,n){return void 0===e&&(e=null),new Tn(e||c,i,t,n)}},ze=X.isFunction,Ke="getPlugin",t=(Be.prototype.initialize=function(e,n,t,r){this._baseTelInit(e,n,t,r)},Be);function Be(){var o=this,a=!1,u=null,s=null;o.core=null,o.diagLog=function(e){return o._getTelCtx(e).diagLog()},o.isInitialized=function(){return a},o.setInitialized=function(e){a=e},o.setNextPlugin=function(e){s=e},o.processNext=function(e,n){n?n.processNext(e):s&&ze(s.processTelemetry)&&s.processTelemetry(e,null)},o._getTelCtx=function(e){void 0===e&&(e=null);var n=e;return n||(e=u||new Ue(null,{},o.core),n=s&&s[Ke]?e.createNew(null,s[Ke]):e.createNew(null,s)),n},o._baseTelInit=function(e,n,t,r){e&&(e.extensionConfig=e.extensionConfig||[]),!r&&n&&(r=n.getProcessTelContext().getNext());var i=s;s&&s[Ke]&&(i=s[Ke]()),o.core=n,u=new Ue(r,e,n,i),a=!0}}var Ve=X.isFunction,qe="processTelemetry",We="priority",He="setNextPlugin",Ge="isInitialized";function Je(n,t){for(var e=[],r=null,i=n.getNext();i;){var o=i.getPlugin();o&&(r&&Ve(r[He])&&Ve(o[qe])&&r[He](o),Ve(o[Ge])&&o[Ge]()||e.push(o),r=o,i=i.getNext())}X.arrForEach(e,function(e){e.initialize(n.getCfg(),n.core(),t,n.getNext())})}function Qe(e){return e.sort(function(e,n){var t=0,r=Ve(n[qe]);return Ve(e[qe])?t=r?e[We]-n[We]:1:r&&(t=-1),t})}var $e,Ze=500,Ye="Channel has invalid priority",Xe=X.objDefineAccessors,en=($e=t,__extends(nn,$e),nn._staticInit=(Xe(nn.prototype,"ChannelControls",nn.prototype.getChannelControls),void Xe(nn.prototype,"channelQueue",nn.prototype.getChannelControls)),nn);function nn(){var r=$e.call(this)||this;r.identifier="ChannelControllerPlugin",r.priority=Ze;var s,c=X.arrForEach;function l(e){e&&0<e.length&&(e=e.sort(function(e,n){return e.priority-n.priority}),c(e,function(e){if(e.priority<Ze)throw Error(Ye+e.identifier)}),s.push(e))}return Se(nn,r,function(a,u){a.setNextPlugin=function(e){},a.processTelemetry=function(n,t){s&&c(s,function(e){0<e.length&&r._getTelCtx(t).createNew(e).processNext(n)})},a.getChannelControls=function(){return s},a.initialize=function(n,t,r){var e,i,o;a.isInitialized()||(u.initialize(n,t,r),n.isCookieUseDisabled&&X.disableCookies(),i=r,s=[],(e=(n||{}).channels)&&c(e,l),i&&(o=[],c(i,function(e){e.priority>Ze&&o.push(e)}),l(o)),c(s,function(e){return Je(new Ue(e,n,t),r)}))}}),r}var tn,rn=X.arrForEach,on=X.isNullOrUndefined,an="_notificationManager",un=function In(){var n,u,s,t,c=!1;Se(In,this,function(a){a._extensions=[],u=new en,n=[],a.isInitialized=function(){return c},a.initialize=function(e,n,r,t){if(a.isInitialized())throw Error("Core should not be initialized more than once");if(!e||on(e.instrumentationKey))throw Error("Please provide instrumentation key");s=t,a[an]=t,a.config=e||{},e.extensions=on(e.extensions)?[]:e.extensions,(e.extensionConfig=on(e.extensionConfig)?{}:e.extensionConfig).NotificationManager=t,r=r||X.objCreate({throwInternal:function(e,n,t,r,i){void 0===i&&(i=!1)},warnToConsole:function(e){},resetInternalMessageCount:function(){}}),a.logger=r,(t=[]).push.apply(t,n.concat(e.extensions)),t=Qe(t);var i=[],o={};if(rn(t,function(e){if(on(e)||on(e.initialize))throw Error("Extensions must provide callback to initialize");var n=e.priority,t=e.identifier;e&&n&&(on(o[n])?o[n]=t:r.warnToConsole("Two extensions have same priority #"+n+" - "+o[n]+", "+t)),(!n||n<u.priority)&&i.push(e)}),t.push(u),i.push(u),t=Qe(t),a._extensions=t,Je(new Ue([u],e,a),t),Je(new Ue(i,e,a),t),a._extensions=i,0===a.getTransmissionControls().length)throw Error("No channels available");c=!0,a.releaseQueue()},a.getTransmissionControls=function(){return u.getChannelControls()},a.track=function(e){e.iKey||(e.iKey=a.config.instrumentationKey),e.time||(e.time=X.toISOString(new Date)),on(e.ver)&&(e.ver="4.0"),a.isInitialized()?a.getProcessTelContext().processNext(e):n.push(e)},a.getProcessTelContext=function(){var e=a._extensions,n=e;return e&&0!==e.length||(n=[u]),new Ue(n,a.config,a)},a.getNotifyMgr=function(){return s||(s=X.objCreate({addNotificationListener:function(e){},removeNotificationListener:function(e){},eventsSent:function(e){},eventsDiscarded:function(e,n){},eventsSendRequest:function(e,n){}}),a[an]=s),s},a.getPerfMgr=function(){return t||a.config&&a.config.enablePerfMgr&&(t=new Me(a.getNotifyMgr())),t},a.setPerfMgr=function(e){t=e},a.eventCnt=function(){return n.length},a.releaseQueue=function(){0<n.length&&(rn(n,function(e){a.getProcessTelContext().processNext(e)}),n=[])}})},sn=function Sn(e){this.listeners=[];var o=X.arrForEach,n=!!(e||{}).perfEvtsSendAll;Se(Sn,this,function(i){i.addNotificationListener=function(e){i.listeners.push(e)},i.removeNotificationListener=function(e){for(var n=X.arrIndexOf(i.listeners,e);-1<n;)i.listeners.splice(n,1),n=X.arrIndexOf(i.listeners,e)},i.eventsSent=function(n){o(i.listeners,function(e){e&&e.eventsSent&&setTimeout(function(){return e.eventsSent(n)},0)})},i.eventsDiscarded=function(n,t){o(i.listeners,function(e){e&&e.eventsDiscarded&&setTimeout(function(){return e.eventsDiscarded(n,t)},0)})},i.eventsSendRequest=function(t,r){o(i.listeners,function(e){if(e&&e.eventsSendRequest)if(r)setTimeout(function(){return e.eventsSendRequest(t,r)},0);else try{e.eventsSendRequest(t,r)}catch(n){}})},i.perfEvent=function(t){t&&(!n&&t.isChildEvt()||o(i.listeners,function(e){if(e&&e.perfEvent)if(t.isAsync)setTimeout(function(){return e.perfEvent(t)},0);else try{e.perfEvent(t)}catch(n){}}))}})},Xe=(tn=un,__extends(cn,tn),cn);function cn(){var e=tn.call(this)||this;return Se(cn,e,function(t,i){function n(e){var n=t.getNotifyMgr();n&&n.eventsDiscarded([e],l.InvalidEvent)}t.initialize=function(e,n,t,r){i.initialize(e,n,t||new _e(e),r||new sn(e))},t.track=function(e){Ae(t.getPerfMgr(),function(){return"AppInsightsCore:track"},function(){if(null===e)throw n(e),Error("Invalid telemetry item");!function(e){if(X.isNullOrUndefined(e.name))throw n(e),Error("telemetry name required")}(e),i.track(e)},function(){return{item:e}},!e.sync)},t.addNotificationListener=function(e){var n=t.getNotifyMgr();n&&n.addNotificationListener(e)},t.removeNotificationListener=function(e){var n=t.getNotifyMgr();n&&n.removeNotificationListener(e)},t.pollInternalLogs=function(n){var e=t.config.diagnosticLogInterval;return e&&0<e||(e=1e4),setInterval(function(){var e=t.logger?t.logger.queue:[];X.arrForEach(e,function(e){e={name:n||"InternalMessageId: "+e.messageId,iKey:t.config.instrumentationKey,time:X.toISOString(new Date),baseType:be.dataType,baseData:{message:e.message}},t.track(e)}),e.length=0},e)}}),e}var ln="_aiHooks",fn=["req","rsp","hkErr","fnErr"],gn="__proto__",dn="constructor";function vn(e,n){if(e)for(var t=0;t<e.length&&!n(e[t],t);t++);}function pn(e,u,s,c,l){0<=l&&l<=2&&vn(e,function(e,n){var t=e.cbks,r=t[fn[l]];if(r){u.ctx=function(){return c[n]=c[n]||{}};try{r.apply(u.inst,s)}catch(o){e=u.err;try{var i=t[fn[2]];i&&(u.err=o,i.apply(u.inst,s))}catch(a){}finally{u.err=e}}}})}function hn(s){return function(){var t=arguments,e=s.h,r={name:s.n,inst:this,ctx:null,set:function(e,n){(t=o([],t))[e]=n,i=o([r],t)}},n=[],i=o([r],t);function o(n,e){return vn(e,function(e){n.push(e)}),n}pn(e,r,i,n,0);var a=s.f;try{r.rslt=a.apply(this,t)}catch(u){throw r.err=u,pn(e,r,i,n,3),u}return pn(e,r,i,n,1),r.rslt}}var yn=Object.getPrototypeOf;function xn(e,n,t,r){if(void 0===r&&(r=!0),e&&n&&t&&(e=function o(e,n,t){var r=null;return e&&(X.hasOwnProperty(e,n)?r=e:t&&(r=o(function(e){if(e){if(yn)return yn(e);if(e=e[gn]||e[d]||e[dn])return e}return null}(e),n,!1))),r}(e,n,r))&&typeof(r=e[n])===v){var i=r[ln];return i||((r=hn(i={i:0,n:n,f:r,h:[]}))[ln]=i,e[n]=r),t={id:i.i,cbks:t,rm:function(){var t=this.id;vn(i.h,function(e,n){return e.id===t&&(i.h.splice(n,1),1)})}},i.i++,i.h.push(t),t}return null}function mn(n,e,t,r){void 0===r&&(r=!0);var i=null;return vn(e,function(e){(e=xn(n,e,t,r))&&(i=i||[]).push(e)}),i}c.MinChannelPriorty=100,c.EventsDiscardedReason=l,c.AppInsightsCore=Xe,c.BaseCore=un,c.BaseTelemetryPlugin=t,c.CoreUtils=X,c.EventHelper=te,c.Undefined=M,c.normalizeJsName=function(e){var n=e,t=/([^\w\d_$])/g;return t.test(e)&&(n=e.replace(t,"_")),n},c.getGlobal=y,c.getGlobalInst=x,c.hasWindow=m,c.getWindow=C,c.hasDocument=w,c.getDocument=T,c.getCrypto=F,c.getMsCrypto=L,c.hasNavigator=I,c.getNavigator=S,c.hasHistory=N,c.getHistory=function(){return N()?history:x("history")},c.getLocation=function(){return typeof location===g&&location?location:x("location")},c.getPerformance=E,c.hasJSON=_,c.getJSON=P,c.isReactNative=function(){var e=S();return!(!e||!e.product)&&"ReactNative"===e.product},c.getConsole=b,c.strUndefined=f,c.strObject=g,c.strPrototype=d,c.strFunction=v,c.NotificationManager=sn,c.PerfEvent=Fe,c.PerfManager=Me,c.doPerf=Ae,c.DiagnosticLogger=_e,c._InternalLogMessage=be,c.ProcessTelemetryContext=Ue,c.initializePlugins=Je,c.sortPlugins=Qe,c._InternalMessageId=ie,c.InstrumentProto=function(e,n,t){return e?xn(e[d],n,t,!1):null},c.InstrumentProtos=function(e,n,t){return e?mn(e[d],n,t,!1):null},c.InstrumentFunc=xn,c.InstrumentFuncs=mn,function(e,n,t){var r=Object.defineProperty;if(r)try{return r(e,n,t)}catch(i){}typeof t.value!==undefined&&(e[n]=t.value)}(c,"__esModule",{value:!0})});
//# sourceMappingURL=applicationinsights-core-js.min.js.map
